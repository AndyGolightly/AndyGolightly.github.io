<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>hw1sols</title>
  <style>
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    svg {
      height: auto;
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="https://samfearn.github.io/latex.min.css" />
  <script
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"
  type="text/javascript"></script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <script type="text/x-mathjax-config">
  	MathJax.Hub.Config({ TeX: { equationNumbers: {autoNumber: "ams"} } });
  	// I need to wait until MathJax has finished before running the numbering script
  	MathJax.Hub.Register.StartupHook("End",function(){doNumbering()});
  </script>
</head>
<body>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#formative-problems-1-solutions"
id="toc-formative-problems-1-solutions">Formative problems 1
solutions</a></li>
</ul>
</nav>
<section id="formative-problems-1-solutions" class="level1 unnumbered">
<h1 class="unnumbered">Formative problems 1 solutions</h1>
<ol>
<li><p>(a) The likelihood is <span
class="math display">\[\begin{aligned}
\ell(\theta|\boldsymbol{y}) &amp;= \prod_{i=1}^n f_{2}(y_i|\theta)\\
&amp;= \prod_{i=1}^n \frac{\theta^{y_{i}}}{y_i !}\exp\{-\theta\}\\
&amp;\propto \theta^{n\bar{y}}\exp\{n\theta\}
\end{aligned}\]</span> where <span
class="math inline">\(\bar{y}=\frac{1}{n}\sum_{i=1}^n y_i\)</span>. The
prior density is, for <span class="math inline">\(\theta&gt;0\)</span>,
<span class="math display">\[\pi(\theta)\propto
\theta^{a-1}\exp\{-b\theta\}\]</span> Hence the posterior density is
<span class="math display">\[\pi(\theta|\boldsymbol{y})\propto
\theta^{a+n\bar{y}-1}\exp\{-\theta(b+n)\}\]</span> and we therefore
recognise that <span class="math display">\[\theta|\boldsymbol{y}\sim
\textrm{Gamma}(a+n\bar{y}\,,\,b+n).\]</span></p>
<p>(b) The likelihood is <span class="math display">\[\begin{aligned}
\ell(\theta|\boldsymbol{x}) &amp;= \prod_{i=1}^m f_{1}(x_i|\theta)\\
&amp;= \prod_{i=1}^m \theta\exp\{-\theta x_i\}\\
&amp;\propto \theta^{m}\exp\{-\theta m\bar{x}\}
\end{aligned}\]</span> where <span
class="math inline">\(\bar{x}=\frac{1}{m}\sum_{i=1}^m x_i\)</span>.
Hence the posterior density is <span
class="math display">\[\begin{aligned}
\pi(\theta|\boldsymbol{x}) &amp;\propto \theta^{a-1}\exp\{-b\theta\}
\times \theta^{m}\exp\{-\theta m\bar{x}\}\\
&amp;\propto \theta^{a+m-1}\exp\{-\theta (b+m\bar{x})\}
\end{aligned}\]</span> and we therefore recognise that <span
class="math display">\[\theta|\boldsymbol{x}\sim
\textrm{Gamma}(a+m\,,\,b+m\bar{x}).\]</span></p>
<p>(c) Note that <span class="math inline">\(n\bar{y}=\sum_{i=1}^n y_i =
m\)</span> (total number of emissions) and <span
class="math inline">\(m\bar{x}=\sum_{i=1}^m x_i = n\)</span> (the final
time).</p>
<p>(d) The posterior mode is <span
class="math display">\[\begin{aligned}
m(\theta|\boldsymbol{y}) &amp;= \frac{a+n\bar{y}-1}{b+n} \\
&amp;= \frac{b}{b+n}\frac{a-1}{b}+\frac{n}{b+n}\bar{y}\\
&amp;=\rho \frac{a-1}{b}+(1-\rho)\bar{y}
\end{aligned}\]</span> where <span class="math inline">\(\rho=(b/n)/(b/n
+1)\)</span>.</p></li>
<li><p>We have that <span class="math display">\[\begin{aligned}
f(\boldsymbol{x})&amp;=\int
\pi(\boldsymbol{\theta})\ell(\boldsymbol{\theta}|\boldsymbol{x})d\boldsymbol{\theta}\\
&amp;=\mathbb{E}[\ell(\boldsymbol{\theta}|\boldsymbol{x})]
\end{aligned}\]</span> where the expectation is wrt <span
class="math inline">\(\boldsymbol{\theta}\sim
\pi(\boldsymbol{\theta})\)</span>, the prior. Hence, given iid samples
<span
class="math inline">\(\boldsymbol{\theta}_1,\ldots,\boldsymbol{\theta}_N\)</span>
from <span class="math inline">\(\pi(\cdot)\)</span>, we can construct
the estimator <span
class="math display">\[\hat{f}(\boldsymbol{x})=\frac{1}{N}\sum_{i=1}^N
\ell(\boldsymbol{\theta}_i|\boldsymbol{x}).\]</span></p></li>
<li><p>The target is <span
class="math display">\[\pi(\boldsymbol{\theta}|\boldsymbol{x})\propto
\pi(\boldsymbol{\theta})\ell(\boldsymbol{\theta}|\boldsymbol{x}).\]</span>
Or, using equivalent notation for the likelihood, <span
class="math display">\[\pi(\boldsymbol{\theta}|\boldsymbol{x})\propto
\pi(\boldsymbol{\theta})f(\boldsymbol{x}|\boldsymbol{\theta}).\]</span></p>
<p>The proposal pdf is the prior density <span
class="math inline">\(\pi(\boldsymbol{\theta})\)</span>. Hence, given
iid samples <span
class="math inline">\(\boldsymbol{\theta}_1,\ldots,\boldsymbol{\theta}_N\)</span>
from <span class="math inline">\(\pi(\cdot)\)</span>, we construct the
(un-normalised) weights <span
class="math display">\[{w}(\boldsymbol{\theta}_i) =
\ell(\boldsymbol{\theta}_i|\boldsymbol{x}) =
f(\boldsymbol{x}|\boldsymbol{\theta}) \, , \, i=1,\ldots N \, .\]</span>
Then, sampling <span class="math inline">\(N\)</span> times with
replacement from <span
class="math inline">\(\{\boldsymbol{\theta}_1,\ldots,\boldsymbol{\theta}_N\}\)</span>
using the normalised weights as associated probabilities, gives a sample
of size <span class="math inline">\(N\)</span> approximately distributed
according to <span
class="math inline">\(\pi(\boldsymbol{\theta}|\boldsymbol{x})\)</span>.</p>
<p>Note that the average un-normalised weight is <span
class="math display">\[\frac{1}{N}\sum_{i=1}^N w(\boldsymbol{\theta}_i)
= \frac{1}{N}\sum_{i=1}^N
\ell(\boldsymbol{\theta}_i|\boldsymbol{x})\]</span> gives a Monte Carlo
estimator of the normalising constant <span
class="math inline">\(f(\boldsymbol{x})=\int
\pi(\boldsymbol{\theta})\ell(\boldsymbol{\theta}|\boldsymbol{x})d\boldsymbol{\theta}\)</span>.
Hence, the output of weighted resampling can be used to estimate the
unknown normalising constant!</p>
<p>Comment on the subtleties of the above: when giving the form of the
un-normalised weight in the weighted resampling algorithm above, we need
a form that we can actually evaluate. Including the intractable
normalising constant in the form of the un-normalised weight doesn’t
make sense in terms of the practical implementation of the algorithm
(unless it is made clear that only the normalised weights are used, for
which the intractable constant cancels).</p></li>
<li><p>Integrate both sides of the detailed balance equation wrt <span
class="math inline">\(x\)</span> to give <span
class="math display">\[\begin{aligned}
\int \pi(x)p(y|x)dx &amp;=\int\pi(y)p(x|y)dx\\
&amp;= \pi(y) \int p(x|y)dx\\
&amp;=\pi(y)
\end{aligned}\]</span> as required for <span
class="math inline">\(\pi(\cdot)\)</span> to be stationary.</p></li>
<li><p>(a) Following the hint, we have that (in equilibrium) <span
class="math display">\[\begin{aligned}
\mathbb{E}(X_{n+1})&amp;=\alpha \mathbb{E}(X_n)\\
&amp;= \mathbb{E}(X_n).
\end{aligned}\]</span> Hence, we must have <span
class="math inline">\(\mathbb{E}(X_{n+1})=\mathbb{E}(X_{n})=0\)</span>.
Similarly, <span class="math display">\[\begin{aligned}
\mathrm{Var}(X_{n+1})&amp;= \alpha^2 \mathrm{Var}(X_n)+\sigma^2\\
&amp;= \mathrm{Var}(X_n).
\end{aligned}\]</span> Hence, <span
class="math display">\[\mathrm{Var}(X_{n+1})=\mathrm{Var}(X_n)=\frac{\sigma^2}{1-\alpha^2}.\]</span></p>
<p>(b) By assumption, the stationary density is <span
class="math display">\[\pi(x)=\frac{1-\alpha^2}{\sqrt{2\pi}\sigma}\exp\left\{-\frac{1-\alpha^2}{2\sigma^2}x^2  \right\}.\]</span>
We know from Example 1.6.1 that <span class="math display">\[p(y|x) =
\frac{1}{\sigma\sqrt{2\pi}}\exp\left\{ -\frac{1}{2}
\left( \frac{y-\alpha x}{\sigma} \right)^2 \right\}.\]</span> Therefore,
upon ignoring terms not involving <span class="math inline">\(x\)</span>
and <span class="math inline">\(y\)</span> gives <span
class="math display">\[\begin{aligned}
\pi(x)p(y|x)&amp;\propto
\exp\left\{-\frac{1-\alpha^2}{2\sigma^2}x^2  \right\}\times \exp\left\{
-\frac{1}{2}
\left( \frac{y-\alpha x}{\sigma} \right)^2 \right\}\\
&amp;\propto \exp\left\{-\frac{1}{2\sigma^2}\left(x^2-\alpha^2 x^2
+y^2+\alpha^2 x^2 -2\alpha xy \right)\right\}\\
&amp;\propto \exp\left\{-\frac{1}{2\sigma^2}\left(x^2 + y^2 -2\alpha xy
\right)\right\}
\end{aligned}\]</span> which is clearly symmetric in <span
class="math inline">\(x\)</span> and <span
class="math inline">\(y\)</span>. Hence, detailed balance is satisfied
for the density <span class="math inline">\(\pi(x)\)</span> as given
above. We may therefore deduce that <span
class="math inline">\(\pi\)</span> is a stationary density of the AR(1)
process with <span
class="math inline">\(|\alpha|&lt;1\)</span>.</p></li>
<li><p>(a) Detailed balance must hold for a reversible chain. We
therefore require <span class="math display">\[\pi_i p_{ij} = \pi_j
p_{ji}\]</span> for all <span class="math inline">\(i,j=1,2,3\)</span>.
Now, <span class="math display">\[\pi_1 p_{12}= \frac{1}{6} \neq \pi_2
p_{21} = 0.\]</span> Hence, the chain is not reversible.</p>
<p>(b) (i) Recall that if <span class="math inline">\(Z\sim
\textrm{Exp}(\lambda)\)</span> then the pdf and cdf are <span
class="math display">\[f(z)=\lambda e^{-\lambda z}, \quad
F(z)=1-e^{-\lambda z}, \quad z&gt;0.\]</span> Now consider the cdf form
of the transition kernel: <span class="math display">\[\begin{aligned}
\mathbb{P}(X_{n+1}\leq y |X_n=x) &amp;=\mathbb{P}(\epsilon_{n+1}\leq
y-\alpha x|X_n=x)\\
&amp;=1-\exp\{-\lambda(y-\alpha x)\},\quad y &gt; \alpha x
\end{aligned}\]</span> and 0 otherwise. Differentiating wrt <span
class="math inline">\(y\)</span> gives the required transition density
as <span class="math display">\[p(y|x)=\lambda \exp\{-\lambda (y-\alpha
x) \}, \quad y &gt; \alpha x\]</span> and 0 otherwise. We can think of
this as the density of a <em>shifted exponential distribution</em>.</p>
<p>(ii) We have that <span class="math display">\[X_{n+1} = \alpha
X_{n}+\epsilon_{n+1},
\quad
\epsilon_{n+1}\overset{\textrm{indep}}{\sim}\textrm{Exp}(\lambda)\]</span>
and <span class="math inline">\(X_n=x\)</span>. By construction of <span
class="math inline">\(X_{n+1}\)</span>, simulating <span
class="math inline">\(\epsilon_{n+1}\)</span> and adding <span
class="math inline">\(\alpha x\)</span> will do the job.</p>
<p>Recall that if <span class="math inline">\(U\sim
\textrm{U}(0,1)\)</span> then <span class="math inline">\(-1/\lambda
\log U \sim \textrm{Exp}(\lambda)\)</span>. Hence, to simulate <span
class="math inline">\(\epsilon_{n+1}\sim\textrm{Exp}(\lambda)\)</span>,
first draw <span class="math inline">\(U\sim \textrm{U}(0,1)\)</span>
then set <span class="math inline">\(\epsilon_{n+1}=-1/\lambda \log
U\)</span> or <span class="math inline">\(\epsilon_{n+1}=-1/\lambda \log
(1-U)\)</span>. Finally, add <span class="math inline">\(\alpha
x\)</span>.</p>
<p>Note that this is equivalent to drawing <span
class="math inline">\(X_{n+1}\)</span> from a distribution with density
<span class="math inline">\(p(\cdot|x)\)</span> using the inverse cdf
method, which you can verify directly if you wish.</p>
<p>(iii) The detailed balance (DB) equation is <span
class="math display">\[\begin{aligned}
\pi(x)p(y|x) &amp;=\pi(y)p(x|y).
\end{aligned}\]</span> We’re given <span
class="math inline">\(\pi(x)&gt;0\)</span> for <span
class="math inline">\(x&gt;0\)</span>. Now note that <span
class="math inline">\(p(y|x)\)</span> is non-zero for <span
class="math inline">\(y&gt;\alpha x\)</span>. However, <span
class="math inline">\(p(x|y)\)</span> is non-zero for <span
class="math inline">\(y&lt;x/\alpha\)</span>. Hence, the LHS and RHS of
the DB equation are non-zero in different regions of <span
class="math inline">\((x,y)\)</span> space. Hence, we cannot have
equality. In this case, we can’t use DB to check that <span
class="math inline">\(\pi(\cdot)\)</span> is stationary.</p>
<p>Put another way, choose <span class="math inline">\(x&gt;0\)</span>
and <span class="math inline">\(y&gt;x/\alpha\)</span>. For this choice,
<span class="math inline">\(p(x|y)=0\)</span>. So, for DB we need <span
class="math inline">\(\pi(x)p(y|x) =\pi(y)p(x|y)=0\)</span>. However,
for this choice of <span class="math inline">\(x\)</span> and <span
class="math inline">\(y\)</span>, <span
class="math inline">\(\pi(x)&gt;0\)</span> and <span
class="math inline">\(p(y|x)&gt;0\)</span>, giving a
contradiction.</p></li>
</ol>
</section>
<script>
function doNumbering() {
	// The syntax to read the structured data from the yaml is horrible, template literals fix the problem but probably aren't widely supported enough. Escaping line breaks is browser dependant. I don't know if there's a better way?
	// Note that the data from the yaml file is manipulated into an array, and then parsed back into strings later, but I didn't want to deal with the pandoc templating syntax longer than necessary.
	var supportedEnvsArrayString = ' .definition;;; .theorem;;; .lemma;;; .example;;; .exampleqed;;; .proposition;;; .remark;;; .corollary;;; .exercise;;; .question';
	var supportedEnvsArray = supportedEnvsArrayString.split("|||");
	supportedEnvsArray = supportedEnvsArray.map(inner => inner.split(";;;"));
	var numberWithin = '1';
	var counterOffset = '';
	var subcounterOffset = '';
	var problemCounter = '';
	const partLabels = 'abcdefghijklmnopqrstuvwxyz'.split('');
	
	// counterOffset may be negative, and by default if specified on the command line this gets string concatenated with the default given in the yaml config and this then causes a problem. Can be fixed by removing the default in the config file and converting to an int, but this causes a NaN error if no value is suplied on the command line, so if NaN set to 0.
	counterOffset = parseInt(counterOffset);
	if (isNaN(counterOffset)) {
		counterOffset = 0;
	}
	
	subcounterOffset = parseInt(subcounterOffset);
	if (isNaN(subcounterOffset)) {
		subcounterOffset = 0;
	}
	
	problemCounter = parseInt(problemCounter);
	if (isNaN(problemCounter)) {
		problemCounter = 1;
	}
	
	function sanitiseSelector(selector) {
		// tex labels often have colons in which need escaping. There may be other escaping needed here. Unfortunately neither encodeURI nor encodeURIComponent do what I need, so use regex to do the escaping manually.
		var sanitised = selector.replace(/\:/g,"\\\:");
		sanitised = sanitised.replace(/(^[\d])/,"\\3$1 ");
		sanitised = sanitised.replace(/\//g,"\\\/");
		return sanitised
	}
	
	function labelLinks() {
		var refs = document.querySelectorAll("a[data-reference-type=ref]")
		for (ref of refs) {
			// Escape colons (or other) from the link title.
			var ref_label = sanitiseSelector(ref.getAttribute("data-reference"));
			// Hopefully ref is a reference to a div or a section, which should have the associated id. If so, we just need the data-number from the relevant DOM item.
			var ref_to = document.querySelector("#"+ref_label);
			if (ref_to !== null) {
				var ref_number = ref_to.getAttribute("data-number");
			} else {
				// If ref is being used for an equation, then we need to try to parse the mathjax divs. This is fragile, but try to find the span which corresponds to the equation number we need.
				try {
					var mathjax_ref = "#mjx-eqn-"+ref_label;
					ref_to = document.querySelector(mathjax_ref);
					// Since this is a ref, we don't want the parens to be returned, so find the equation number and strip the parens.
					var ref_number = ref_to.querySelector(".mjx-char").innerHTML.replace(/[()]/g,"");
					ref.setAttribute("href",mathjax_ref);
				}
				// If we can't find a place to link to, just indicate a missing link.
				catch (err){
					var ref_number = "???"
				}
			}
			ref.innerHTML = ref_number;
		};
	}
	
	function numberEnvs() {
		for (var levelSpec = 0; levelSpec <= numberWithin; levelSpec++) {
			var reqLevels = document.querySelectorAll(".level"+levelSpec);
			for (var level of reqLevels) {
				levelCount = level.getAttribute("data-number");
				levelCount = String(parseFloat(levelCount)+(counterOffset));
				levelCount = levelCount+(("."+subcounterOffset).repeat(numberWithin-levelSpec));
				for (var counter of supportedEnvsArray) {
					var envCount = 1;
					var envs = level.querySelectorAll(counter.join(", "));
					for (var env of envs) {
						env.setAttribute("data-number",levelCount+"."+envCount);
						envCount += 1;
					}
				}
			}
		}
	}
	
	function numberFigs() {
		// Figures should either be in a figure environment, or a table with image class imageTable thanks to the tableCaps filter.
		figs = document.querySelectorAll("figure, .imageTable");
		var fig_no = 1
		for (var fig of figs) {
			var cap
			// For figures, we want to move the id to the figure, and set the data-number on both the figure and the figcaption
			if (fig.nodeName == "FIGURE") {
				cap = fig.querySelector("figcaption");
				var img = fig.querySelector("img, embed")
				if (img) {
					var img_id = img.getAttribute("id");
					fig.setAttribute("id",img_id);
					img.removeAttribute("id");
				}
			// for tables (which must be .imageTable due to the querySelector above), we want to set the data-number on the table and the caption
			} else if (fig.nodeName == "TABLE") {
				cap = fig.querySelector("caption");
			}
			cap.setAttribute("data-number",fig_no);
			fig.setAttribute("data-number",fig_no);
			fig_no += 1;
		}
	}
	
	function numberGlobals() {
		// This function numbers any environments that just use a global counter, such as a problem number on a problems sheet, where there are no sections to number with respect to.
		probsols = document.querySelectorAll(".problem, .solution");
		var prob_no = problemCounter;
		var partNo = 0;
		for (var probsol of probsols) {
			if (probsol.className == "problem"){
				prob_no +=1;
				partNo = 0;
				probsol.setAttribute("data-number",prob_no);
			}
			else {
				if (probsol.parentNode.nodeName == "LI") {
					var partLabel = partLabels[partNo];
					probsol.setAttribute("data-number",prob_no.toString()+partLabel);
					partNo +=1;
				}
				else{
					probsol.setAttribute("data-number",prob_no);
				}
			}
			
		}
		// sols = document.querySelectorAll(".solution");
// 		var sol_no = problemCounter;
// 		for (var sol of sols) {
// 			sol.setAttribute("data-number",sol_no);
// 			sol_no +=1
// 		}
	}
	
	// labelLinks() should occur last, so that the data-numbers have been correctly set first.
	numberEnvs();
	numberFigs();
	numberGlobals();
	labelLinks();
}
</script><script>
	var imageDir = ''
	imgs = document.querySelectorAll("img");
	for (var img of imgs) {
		imgsrc = img.getAttribute("src");
		img.setAttribute("src",imageDir.concat(imgsrc));
	}
</script></body>
</html>
